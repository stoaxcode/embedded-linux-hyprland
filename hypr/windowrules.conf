##############################
### WINDOWS AND WORKSPACES ###
##############################

windowrule {
    # Ignore maximize requests from all apps. You'll probably like this.
    name = suppress-maximize-events
    match:class = .*

    suppress_event = maximize
}

windowrule {
    name = fix-xwayland-drags
    match:class = ^$
    match:title = ^$
    match:xwayland = true
    match:float = true
    match:fullscreen = false
    match:pin = false
    no_focus = true
}

# Hyprland-run windowrule
windowrule {
    name = move-hyprland-run
    match:class = hyprland-run
    move = 20 monitor_h-120
    float = yes
}



##################################
### ENGINEERING WORKFLOW RULES ###
##################################

# Browser → Workspace 5 (Documentation)
windowrule2 = workspace 5, class:^(firefox)$

# STM32CubeProgrammer → Workspace 3
windowrule2 = workspace 3, class:^(STM32CubeProgrammer)$

# Serial Terminal → Workspace 4
windowrule2 = workspace 4, title:^(Serial)$

# Thunar → Workspace 2 (File Management)
windowrule2 = workspace 2, class:^(Thunar)$

# Editor → Workspace 1 (Code)
windowrule2 = workspace 1, class:^(Code|Geany|Sublime_text)$

##########################
### FLOATING UTILITIES ###
##########################

# PulseAudio Volume Control
windowrule2 = float, center, class:^(pavucontrol)$

# Network Manager editor
windowrule2 = float, center, size 800 600, class:^(nm-connection-editor)$

# Calculator
windowrule2 = float, center, size 400 400, class:^(gnome-calculator|kcalc)$

############################
### SCRATCHPAD TERMINALS ###
############################

# Named scratchpad terminal for quick tasks
windowrule2 = float, center, size 900 600, title:^(scratch-term)$

# Optional secondary scratchpad for serial monitor
windowrule2 = float, center, size 900 600, title:^(scratch-serial)$

################################
### MODE / PERFORMANCE RULES ###
################################

# Debug Mode Workspace: always full opacity
windowrule2 = opacity 1.0, workspace 4

# Minimal Mode: reduce decorations on all floating windows
windowrule2 = border_size 0, rounding 0, float:true, workspace 1, class:^.*

# Full Rice Mode: restore rounding and shadows
windowrule2 = border_size 2, rounding 10, float:true, class:^.*


################################
### WORKSPACE SPECIFIC RULES ###
################################

# Example: TV workspace / large monitor
windowrule2 = gaps_in 0, gaps_out 0, workspace:w[tv1], match:float=false
windowrule2 = rounding 0, border_size 0, workspace:w[tv1], match:float=false

# Scratchpad special workspace
windowrule2 = float, center, size 800 600, workspace:scratch, match:float=true

##############################
### NOTES ###
##############################

# - Use windowrule2 for all app-specific, workspace-specific, and scratchpad rules.
# - Keep legacy windowrule for compositor fixes (maximize, XWayland drag).
# - Integrate these rules with your mode and performance keybinds.
# - Use descriptive titles for scratchpad windows to trigger these rules deterministically.
